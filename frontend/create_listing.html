<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Create Listing — ReadCircle</title>
  <link rel="stylesheet" href="css/create_listing.css" />
</head>

<body>
  <div class="container">
    <h1>Create a Book Listing</h1>
    <p class="hint">Fill required fields and click Create. Images — paste hosted image URLs separated by commas.</p>

    <form id="createListingForm">
      <label for="title">Title *</label>
      <input id="title" name="title" type="text" required placeholder="Book title" />

      <div class="two-col">
        <div>
          <label for="author">Author</label>
          <input id="author" name="author" type="text" placeholder="Author name" />
        </div>
        <div>
          <label for="condition">Condition</label>
          <select id="condition" name="condition">
            <option>Good</option>
            <option>Like New</option>
            <option>New</option>
            <option>Fair</option>
            <option>Poor</option>
          </select>
        </div>
      </div>

      <div class="two-col">
        <div>
          <label for="price">Price</label>
          <input id="price" name="price" type="number" min="0" step="0.01" value="0" />
        </div>
        <div>
          <label for="currency">Currency</label>
          <input id="currency" name="currency" type="text" value="INR" />
        </div>
      </div>

      <!-- inside the create listing form -->
      <label for="imageFile">Upload cover image</label>
      <input id="imageFile" type="file" accept="image/*" />

      <!-- optional: keep the images text input for manual URLs; we'll append uploaded URL there -->
      <input id="images" type="text" placeholder="Comma-separated image URLs (optional)" />

      <div class="preview" id="imagePreview"></div>

      <label for="sellerContact">Your contact (phone or email)</label>
      <input id="sellerContact" name="sellerContact" type="text"
        placeholder="You will be contacted by buyer after reservation" />

      <div class="actions">
        <button id="createBtn" type="submit">Create Listing</button>
        <button id="clearBtn" class="secondary" type="button">Clear</button>
        <span class="status" id="statusText"></span>
      </div>
    </form>
  </div>

  <script>
    // exact backend origin serving Socket.IO (set to your Render/Heroku/own host)
    // replace with your backend origin if different
    window.SOCKET_URL = "https://readcircle.onrender.com";
    // if you also have an API_BASE override, ensure that either window.BASE_URL or window.SOCKET_URL is correct
    // window.BASE_URL = "https://readcircle.onrender.com/api";
  </script>

  <!-- socket.io client -->
  <script src="https://readcircle.onrender.com/socket.io/socket.io.js"></script>

  <!-- include auth.js (must exist) -->
  <script src="js_files/auth.js"></script>


  <!-- realtime toast notifications -->
  <script src="js_files/notification_socket.js"></script>

  <!-- seller script -->
  <script src="js_files/seller.js"></script>
</body>

</html>